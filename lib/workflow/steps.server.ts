import "server-only"

import type { WorkflowStepConfig } from "./types"

const stepsConfig: Record<string, WorkflowStepConfig> = {
  "P1": {
    id: "P1",
    title: "行业目标分析",
    description: "AI运用第一性原理分析行业，精准定位目标受众",
    icon: "Target",
    phase: 1,
    phaseName: "研究定位",
    phaseColor: "purple",
    output: "《行业目标分析报告》",
    estimatedTime: "15-30分钟",
    features: ["市场规模分析", "竞争格局研究", "目标受众5A分析", "白痴指数评估"],
    initialPrompt: "你好！我是你的**资深市场研究分析师**，专精于行业定位和目标受众画像构建。\n\n我将通过引导式问答和网络数据分析，帮助你：\n- 确定行业的细分领域\n- 构建精准的目标受众画像\n- 运用第一性原理洞察行业本质\n- 评估价值链效率（白痴指数分析）\n\n最终为你输出一份专业的《行业目标分析报告》。\n\n**首先，请告诉我：你想做哪个行业的IP内容？**\n\n例如：健身、美妆、职场、创业、育儿、理财、教育、心理咨询等",
    guideQuestions: [
      "这个行业你有多少年的从业经验？",
      "你的目标受众主要是什么人群？",
      "你希望通过内容解决用户什么问题？",
      "你的竞争对手有哪些？他们的特点是什么？"
    ]
  },
  "P2": {
    id: "P2",
    title: "行业认知深度",
    description: "道法术器势框架，分析最佳内容切入点",
    icon: "BarChart3",
    phase: 1,
    phaseName: "研究定位",
    phaseColor: "purple",
    output: "《行业认知深度分析报告》",
    estimatedTime: "10-20分钟",
    features: ["认知层次分析", "专栏策略建议", "内容难度评估", "平台匹配度"],
    initialPrompt: "你好！我是你的**行业认知深度分析师**，专注于帮助内容创作者确定最佳的内容切入点。\n\n我将基于「道法术器势」框架进行深度分析：\n- **道**：行业底层原理、哲学思想、核心价值观\n- **法**：方法论、体系、流程、规律\n- **术**：技术、技巧、专业知识\n- **器**：工具、产品、应用场景\n- **势**：趋势、热点、新闻、资讯\n\n最终为你输出《行业认知深度分析报告》和专栏策略建议。\n\n**请简要告诉我你想分析的行业/领域，以及主要产品和目标受众。**\n\n或者直接提供《行业目标分析报告》，我将自动开始分析。",
    guideQuestions: [
      "你更擅长讲「道理」还是「方法」？",
      "你觉得你的受众更需要什么层次的内容？",
      "你有什么独特的行业洞察？"
    ]
  },
  "P3": {
    id: "P3",
    title: "情绪价值分析",
    description: "穷举目标受众可能响应的所有情绪价值点",
    icon: "Sparkles",
    phase: 1,
    phaseName: "研究定位",
    phaseColor: "purple",
    output: "《情绪价值点全景图》",
    estimatedTime: "15-25分钟",
    features: ["行业特定情绪(50%)", "向上延展情绪(50%)", "五分制评分", "口播适应性"],
    initialPrompt: "你好！我是你的**情绪价值分析专家**，专注于解析目标受众的深层心理需求和情绪触点。\n\n我将帮你创建一份全面的《情绪价值点全景图》，包括：\n- **行业特定情绪价值点（50%）**：与你行业直接相关的情绪痛点\n- **向上延展情绪价值点（50%）**：更广泛领域的情绪共鸣\n\n每个情绪价值点都会按五分制评分其在抖音等短视频平台上的表现潜力。\n\n**首先，请告诉我你的目标行业和受众。**\n\n或者提供《行业目标分析报告》和《行业认知深度分析报告》，我将自动开始分析。",
    guideQuestions: [
      "用户在这个领域最常见的困惑是什么？",
      "什么样的内容会让用户忍不住点赞评论？",
      "你的用户群体有什么共同的情绪特征？"
    ]
  },
  "IP传记": {
    id: "IP传记",
    title: "IP传记采访",
    description: "AI记者深度访谈，挖掘20+张力故事",
    icon: "BookOpen",
    phase: 1,
    phaseName: "研究定位",
    phaseColor: "purple",
    output: "《IP传记》(2万字)",
    estimatedTime: "60-90分钟",
    features: ["工作身份挖掘", "家庭身份挖掘", "社交身份挖掘", "自由身份挖掘"],
    initialPrompt: "哈喽～我是**小艾**，IP内容工厂安排我来给您进行今天的专访！😊\n\n我会帮您梳理完整的个人和商业信息，同时挖掘那些打动人心的故事细节。\n\n我们将围绕四个身份维度深度访谈：\n1. **工作身份**：职业经历、公司信息、产品服务\n2. **家庭身份**：家庭背景、重要关系\n3. **社交身份**：朋友圈、社会角色、人脉网络\n4. **自由身份**：兴趣爱好、个人追求、价值观\n\n采访需要2-3小时，会有50-100个问题，最终生成一篇2万字的《IP传记》，包含至少20个张力故事。\n\n**先提供一下您的基本信息吧：昵称、年龄、性别、所在城市？**",
    guideQuestions: [
      "你是怎么进入这个行业的？",
      "职业生涯中最骄傲的成就是什么？",
      "遇到过最大的挫折是什么？",
      "家人对你的工作怎么看？"
    ]
  },
  "P4": {
    id: "P4",
    title: "IP概念生成",
    description: "生成差异化IP定位、视觉锤、语言钉",
    icon: "User",
    phase: 2,
    phaseName: "人设构建",
    phaseColor: "blue",
    output: "《IP概念》",
    estimatedTime: "15-25分钟",
    features: ["内核分析", "外在表现", "视觉锤设计", "口头语体系"],
    initialPrompt: "太棒了！现在我们来打造你的IP概念。\n\n基于前面的行业分析和你的个人故事，我会帮你提炼：\n- **IP内核**：你是谁，你代表什么\n- **视觉锤**：让人一眼记住的视觉符号\n- **语言钉**：你的专属口头禅和金句\n\n首先，你希望给观众留下什么样的第一印象？",
    guideQuestions: [
      "你希望别人怎么形容你？",
      "有什么个人特征是你独有的？",
      "你最想传达的核心理念是什么？"
    ]
  },
  "P5": {
    id: "P5",
    title: "IP类型定位",
    description: "基于7大IP画布确定专业型/娱乐型/记者型定位",
    icon: "Target",
    phase: 2,
    phaseName: "人设构建",
    phaseColor: "blue",
    output: "《IP类型定位报告》",
    estimatedTime: "15-25分钟",
    features: ["7大IP类型分析", "1主2副模型", "变现路径规划", "爆款方向建议"],
    initialPrompt: "现在来确定你的IP类型定位！\n\n基于《IP内容工厂7大IP策划画布》，我会帮你分析：\n\n**三大基础类型：**\n- 专业型：高专业度，解决领域问题\n- 娱乐型：高互动性，提供情绪价值\n- 记者型：信息整合，提供信息差\n\n**四种混合类型：**\n- 专业娱乐型、专业记者型、趣味记者型、全能型\n\n我会帮你确定「1主-2副」的IP类型组合，并规划变现路径。\n\n**首先，请提供你的《IP概念》或告诉我你的行业和个人特点。**",
    guideQuestions: [
      "你更擅长专业内容还是娱乐内容？",
      "你有独特的信息获取渠道吗？",
      "你的表达风格偏严肃还是有趣？"
    ]
  },
  "P6": {
    id: "P6",
    title: "4X4内容规划",
    description: "基于IP类型制定60期内容规划，匹配最佳呈现形式",
    icon: "Layers",
    phase: 2,
    phaseName: "人设构建",
    phaseColor: "blue",
    output: "《4X4内容运营规划》",
    estimatedTime: "20-30分钟",
    features: ["60期内容规划", "10种呈现形式匹配", "3个置顶视频", "黄金三秒开头"],
    initialPrompt: "开始制定你的4X4内容规划！\n\n**4X4配比策略：**\n- 50% 爆款引流（拉新）\n- 30% 理性认知（建信）\n- 15% 产品引流（转化）\n- 5% 感性认知（留存）\n\n**10种内容呈现形式：**\n- 1.0时代：讲解型、案例型、演示型、对话型、测评型、数据型\n- 2.0时代：剧情型、冲突型、悬念型、沉浸型\n\n我会根据你的《IP类型定位报告》，为每期内容匹配最适合的呈现形式。\n\n**请提供你的《IP类型定位报告》，或告诉我你的IP主类型是什么。**",
    guideQuestions: [
      "你擅长哪种内容呈现形式？",
      "你的团队配置是怎样的？",
      "你每周计划发几条内容？"
    ]
  },
  "P7": {
    id: "P7",
    title: "选题库生成",
    description: "整合热点引流、IP故事张力、行业正反观点三大选题来源",
    icon: "Target",
    phase: 3,
    phaseName: "内容生产",
    phaseColor: "emerald",
    output: "《选题库》",
    estimatedTime: "15-25分钟",
    features: ["热点选题(50个)", "IP故事选题(20个)", "行业情绪选题(80个)", "TOP20推荐"],
    initialPrompt: "你好！我是你的**选题库生成大师**，专精于热点分析、IP故事挖掘和行业情绪洞察。\n\n我将帮你从三大维度生成完整的选题库：\n- **热点选题（50个）**：基于抖音热点中心，经过风险评估\n- **IP故事选题（20个）**：从你的IP传记中提取情绪张力故事\n- **行业情绪选题（80个）**：8大话题类别的正反观点\n\n最终输出一份完整的《选题库》，包含TOP20精选推荐。\n\n**首先，请提供你的行业信息和IP传记，或直接上传之前的报告。**\n\n你也可以访问抖音热点中心，获取最近3天的热搜数据。",
    guideQuestions: [
      "最近有什么热点可以结合你的行业？",
      "你的IP传记中有哪些印象深刻的故事？",
      "你的目标受众最关心什么话题？"
    ]
  },
  "P8": {
    id: "P8",
    title: "脚本创作中心",
    description: "多智能体选择，按选题类型匹配最优创作框架",
    icon: "Lightbulb",
    phase: 3,
    phaseName: "内容生产",
    phaseColor: "emerald",
    output: "《脚本初稿》",
    estimatedTime: "10-15分钟/条",
    features: ["深度共鸣(16框架)", "金句型(20人设)", "人生故事(4框架)", "促销/产品展示"],
    initialPrompt: "你好！我是你的**脚本创作中心**，整合了6种专业脚本创作智能体的能力。\n\n**内置智能体：**\n- **深度共鸣**：16种共鸣框架（情感验证/认知颠覆/情绪释放等）\n- **金句型**：20种人设 + 3-2-1金句分布\n- **奇葩问题**：5A客户阶段问题设计\n- **人生故事**：4种故事框架 + 3种叙事角度\n- **促销钩子**：吸引力公式 + 心理学原则\n- **产品展示**：产品周期展示法\n\n**请从P7选题库中选择要创作的选题：**\n- 选题来源（热点/IP故事/行业情绪）\n- 选题名称\n- 内容类型（引流/理性/产品/情绪）",
    guideQuestions: [
      "你选择了哪个选题？",
      "这个选题属于什么类型？",
      "你想用哪种智能体来创作？"
    ]
  },
  "P9": {
    id: "P9",
    title: "口语化优化",
    description: "AI味检测+三步改写法，让文案读起来像真人分享",
    icon: "MessageSquare",
    phase: 3,
    phaseName: "内容生产",
    phaseColor: "emerald",
    output: "《口语化优化终稿》",
    estimatedTime: "5-10分钟/条",
    features: ["A/B/C级禁用词检测", "三步改写法", "朗读测试", "真实感检验"],
    initialPrompt: "你好！我是你的**口语化优化大师**，专注于将AI生成的文案转化为自然、真实的口语表达。\n\n**我的核心能力：**\n- **AI味检测**：A级禁用词、B级谨慎词、连贯性检查\n- **三步改写法**：智能识别 → 连贯性评估 → 自然化重写\n- **最终检验**：朗读测试、理解测试、真实测试\n\n**核心原则：**\n- 去AI味 ≠ 删除连贯性\n- 去AI味 ≠ 删细节\n- 自然表达 ≠ 碎片化\n\n**请提供P8生成的脚本初稿，我将开始口语化优化。**",
    guideQuestions: [
      "这个脚本是什么类型的内容？",
      "你希望保持什么样的语言风格？",
      "有哪些金句需要特别保留？"
    ]
  },
  "P10": {
    id: "P10",
    title: "迭代管理",
    description: "版本记录、日志保存、智能迭代建议",
    icon: "FileText",
    phase: 3,
    phaseName: "内容生产",
    phaseColor: "emerald",
    output: "《迭代管理报告》",
    estimatedTime: "3-5分钟/条",
    features: ["200字迭代日志", "版本对比", "一键回滚", "反馈数据输出"],
    initialPrompt: "你好！我是你的**迭代管理专家**，帮助你建立系统化的内容优化流程。\n\n**核心功能：**\n- **日志系统**：每条日志≤200字，包含修改原因、主要修改、效果预期、注意事项\n- **版本管理**：v1.0初稿 → v1.1优化 → v2.0重大修改\n- **版本对比**：差异统计、逐行对比、一键回滚\n- **迭代建议**：基于数据的智能优化建议\n\n**反馈数据输出：**\n- 选题使用记录（供P7参考）\n- 创作偏好记录（供P8参考）\n- 口语化问题记录（供P9参考）\n\n**请提供P9优化后的终稿，开始迭代管理。**",
    guideQuestions: [
      "这是第几版内容？",
      "本次迭代的主要改动是什么？",
      "下次迭代你想优化哪些方面？"
    ]
  },
}


export function getWorkflowStepConfig(stepId: string): WorkflowStepConfig | null {
  return stepsConfig[stepId] ?? null
}
